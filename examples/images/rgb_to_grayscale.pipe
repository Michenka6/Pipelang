[
    [ buffer/read | rgb ]
    { [ rgb/r u8/to_f32 (* 0.299) ]
      [ rgb/g u8/to_f32 (* 0.587) ]
      [ rgb/b u8/to_f32 (* 0.114) ]
    | sum }
    f32/to_u8
]
